# 2019.1.17 授業内容


### スクリプトとは
原稿、台本の意味がある。コンピュータに対してどのような処理をすればよいのか台本を書くつもりで学習。  

### JavaScriptとJavaは別言語
JavaScriptを省略する際はJSと呼ぼう。  

### JavaScriptの特徴
- 良いところ
	- テキストエディタで、手軽に開発・実行可能。  
	- 歴史があり、プログラミングに関する情報が豊富。  
		- GooglemapはJavaScriptで動いている。

- 悪いところ
	- ブラウザによって挙動が異なる。
		- 最近のブラウザでは挙動が統一されてきている。
	- ユーザがJavaScriptの有効・無効を決めることができるので、常に動作するとは限らない。
		- 最近のブラウザではJavaScriptを無効にさせづらくしている。
	- ソースコードを誰でも見ることができるためコピーや改変されやすい。
	- 悪意のあるプログラムなどを簡単に作れてしまう。

### JavaScriptが記述されたHTMLファイルのリクエスト
クライアントPC側がHTMLとJSファイルをリクエスト→サーバーより二つのファイルが送られる。  
クライアントサイドで動くプログラムのため「クライアントサイドプログラム」と呼ばれる。

#### クライアントサイドプログラムのメリット
- ブラウザがあれば開発可能。サーバーを必要としない。
- サーバーにアクセスせずに実行できるため軽快な動的ページを作成できる。


#### クライアントサイドプログラムのデメリット
- 誰でもソースコードを見ることができてしまう。
- ブラウザでJavaScriptを無効にできてしまう。※最近は少ない。

#### クライアントサイドプログラムの使いどころ
主にユーザーの使いがっ手を向上させたり、動きのあるWebページを作成するために使用する。

### PHPファイルのリクエスト
PHPファイルはサーバーサイドで動作する。

#### サーバーサイドプログラムのメリット
- ソースコードを見られない、改ざんされたり、流用される危険性が少ない。
- サーバー上で動くので確実に実行される。

#### サーバーサイドプログラムのデメリット
- サーバーを用意して開発環境が必要。
- プログラムの実行には必ずサーバーへアクセスが必要。

#### サーバーサイドプログラムの使いどころ
ログイン管理のように必ず実行しなければいけない処理や  
メール送信のようなサーバー上のほかのサービスと連携させる処理などに利用する。

## JavaScriptの記述時のルール
1. 半角文字・半角空白を使う
2. 大文字・小文字が区別される
3. 文字列はシングルクォートかダブルクォートで囲む
4. 数値はクォートで囲まず記述
5. 命令の途中で改行はOKだが、単語の途中はだめ

```js
console.log('ログを表示');
console.
log('ログを表示'); → OK
conso
le.log('ログを表示'); → NG

```

シングルクォートを文字列として扱いたい場合→("I'm hero") ダブルクォートで囲む。
ダブルクォートを文字列として扱いたい場合→('ここは"渋谷"です') シングルクォートで囲む。
両方とも使いたい場合→('I\'m hero. ここは"渋谷"です') 「\(もしくはバックスラッシュ)」でエスケープ。



## JavaScript記述法
### インラインスクリプト - HTMLファイル内に記述
```html
<script>
ここにJavaScriptを記述する
</script>
```

6. 命令の最後に「;」をつける


## 外部スクリプト - 外部ファイルに記述
### HTMLファイルから外部JSファイルの読み込み
```html
<script src="外部JSファイルの場所"></script>
<script src="output1.js"></script>
```

### 外部スクリプトのメリット
- JSファイルをほかのページでも再利用できる
- HTML内に文書構造意外の記述が増えることを防ぐ
以上のことから原則外部ファイル化することをおすすめします。


## よくやってしまうミス
外部スクリプトとインラインスクリプトを同時に記述すると外部スクリプトのみ実行され  
インラインスクリプトは無視される。
```js
<script src="mistake.js">
console.log('インラインスクリプト');
</script>
```

外部スクリプトとインラインスクリプトを両方使いたい場合はタグを分ける。
```js
<script src="mistake.js">
console.log('インラインスクリプト');
</script>
<script>
console.log('インラインスクリプト3');
</script>
```

### JavaScriptの記述位置
scriptタグはHTML内のどの部分でも記述可。
以下3か所を状況に応じて使い分け。
1. headタグ内に記述
	- 事前に読み込んでおかなければいけないJSファイルによく使われる。
2. 閉じ</body>タグの直前に記述
	- ブラウザは1行目から順に読み込んで解釈し表示する。HTMLの途中に処理に  
		時間のかかるJSファイルがあるとその処理が終わるまで表示されない。  
		処理に時間のかかるJSファイルはbody終了タグ直前に記述する。
3. bodyタグ内の任意の位置
	- JavaScriptの処理対象になるHTMLコードとJavaScriptのプログラムを近い位置に記述して  
		関連性を明確にする場合などに使用。

#### HTML新しいタグ
```html
<div class="box">
  <input type="text" id="message">
  <input type="button" value="メッセージ表示" onclick="displayMessage();">
</div>
```

- inputタグ：フォームパーツ作成
	- type属性
		- 「text」1行入力パーツ
		- 「button」ボタンパーツ
			- value属性：ボタン内に表示される文字
	

### 変数の使い方
var 変数名;
※varを使うのは変数を作る時のみ。  

#### 参照時点で変数が作成されていないが、後で作成されている変数の扱い
JavaScriptはプログラム実行前に使用する変数をすべて把握しています。  
このことを「変数の巻き上げ（ホスティング）」と呼びます。
- 以下のnum2、num3は巻き上げが起こっているため結果が「undefined」となる。

```js
var num1 = 100;

console.log('１回目の出力');
console.log(num1);
console.log(num2);
console.log(num3);

var num2 = 200;
var num3 = 300;

console.log('２回目の出力');
console.log(num1);
console.log(num2);
console.log(num3);
```

- 以下はname2を宣言していないため「Uncaught ReferenceError: name2 is not defined」とエラーになる。

```js
var name1 = '田中';
var name3 = '鈴木';

console.log('１回目の出力');
console.log(name1);
console.log(name2);
console.log(name3);
```


### 配列を作る
var 変数名 = [];  
「[]」のことを配列リテラルという。


```js
var fruits = [];

console.log('１回目の出力');
console.log(fruits);
console.log(fruits.length); → 配列の長さ、要素数を出力している。配列内にはデフォルトで「length」という部屋を持っている。

fruits[0] = 'いちご';
fruits[1] = 'みかん';
fruits[2] = 'りんご';
```
  
  
下記、3番目の部屋を飛ばして4番目の部屋を定義した場合、3番目には「empty」が代入され部屋が作成される。

```js
var areas = ['茨城', '栃木', '群馬'];

console.log(areas);
console.log(areas.length);
console.log(areas[0]);
console.log(areas[1]);
console.log(areas[2]);

areas[4] = '東京';
```
↓ 結果

`["茨城", "栃木", "群馬", empty, "東京"]`

#### 改行して見やすい配列

```js
var areas = [
		'茨城', 
		'栃木', 
		'群馬'
];
```

<a href="#">topへ</a>  
[ホーム](http://www.lamplus.ml/)
